# 1-cycle-MIPS-processor
This is a 1-cycle MIPS processor designed using the hardware defining language Verilog

This processor is built according to the following diagram:
![CPU Diagram](https://raw.githubusercontent.com/Liwn0w/1-cycle-MIPS-processor/master/cpuDiagram.png)

The instructions in the code.txt file:

|    Hex code    |    Assembly statement      |    Description                                                                                                                                           |    Opcode                                  |    Binary code                             |
|----------------|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|--------------------------------------------|
|    34030023    |    ORI $v1 $zero 0x0023    |    compare immediate (0000000000100011)   with $zero (00000), save in $v1 as (00011)                                                                     |    Ori = 001101                            |    00110100000000110000000000100011        |
|    34060043    |    ORI $a2 $zero 0x0043    |    compare immediate   0000000001000011 with $zero, save in $a2 as 00110                                                                                 |    Ori = 001101                            |    00110100000001100000000001000011        |
|    00664021    |    ADDU $t0 $v1 $a2        |    add $v1(00011) and   $a2(00110) and save in $t0 as (01000)                                                                                            |    ADDU = 100001 (end)   000000 (front)    |    00000000011001100100000000100001        |
|    00c34823    |    SUBU $t1 $a2 $v1        |    $a2(00110) -   $v1(00011) save in $t1(01001)                                                                                                          |    100011 (000000 in   front)              |    00000000110000110100100000100011        |
|    ad290000    |    SW $t1 0x0000 $t1       |    Store 0($t1) in $t1                                                                                                                                   |    SW = 101011                             |    10101101001010010000000000000000        |
|    8d2a0000    |    LW $t2 0x0000 $t1       |    load 0($t1) into   $t2, $t1=01001, $t2=01010                                                                                                          |    LW = 100011                             |    10001101001010100000000000000000        |
|    01090021    |    ADDU $zero $t0 $t1      |    add $t0 (01000) and   $t1 (01001), save in $zero                                                                                                      |    ADDU = 100001 (end)   000000 (front)    |    00000001000010010000000000100001        |
|    112a0001    |    BEQ $t1 $t2 0x0001      |    if $t1 (01001) ==   $t2 (01010) then go to offset + pc                                                                                                |    BEQ = 000100                            |    00010001001010100000000000000001        |
|    08000c0c    |    J 0x0000C0C             |    jump to target   (00000000000000110000001100)                                                                                                         |    J = 000010                              |    00001000000000000000110000001100        |
|    350b004f    |    ORI $t3 $t0 0x004F      |    $t0 or immediate   (0000000001001111) save in $t3                                                                                                     |    Ori = 001101                            |    00110101000010110000000001001111        |
|    3c094567    |    LUI $t1 0x4567          |    load upper   immediate: immediate is shifted left 16 bits and concatenated with 16 bits of   0s. It is then signextended and placed in $t1 (01001)    |    LUI = 001111                            |    00111100000010010100010101100111        |
|    08000c07    |    J 0x0000C07             |    Jal jump to 00000000000000110000000111                                                                                                                |    J = 000010                              |    00001000000000000000110000000111        |
|    350c0062    |    ORI $t4 $t0 0x0062      |    $t0 or immediate,   load into $t4                                                                                                                     |    Ori = 001101                            |    00110101000011000000000001100010        |

The components are:

|    Component name                    |    Usage                                                                             |    Input (and usage)                                                                                                                                                                                                                                                                                                                                                                            |    Output (and usage)                                                                  |
|--------------------------------------|--------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|    RegFile (Register)                |    Temporary register   for read values from DM                                      |    ·         Busw (a 32 bit value from memory or ALU)    ·         clk (1 or 0, used to control time and speed),    ·         RegWr (control signal)   ·         rw (rd – destination value, or rt – second operand value)   ·         ra (rs  – first operand value)   ·         rb (rd destination value).   My added inputs:    ·         reset,    ·         temp5,    ·         npc_sel    |    ·         busa (value 1 to ALU)    ·         busb (value 2 to ALU)                  |
|    IFU (Instruction   Fetch Unit)    |    Uses the PC to fetch   instructions from the instruction memory (IM)              |    ·         Clk (1 or 0, used to control time and speed)   ·         zero (if 1, then a new instruction is fetched from IFU, else no new   instruction – used with if statements)   ·         npc_sel (The place of the pointer – PC)   My added inputs:    ·         reset   ·         imm (immediate value)                                                                                  |    ·         Ins (the fetched instruction)   ·         temp5                           |
|    IM (Instruction   memory)         |    Registers with   instructions                                                     |    ·         adr: Instruction address                                                                                                                                                                                                                                                                                                                                                           |    ·         ins: instruction (32 bits)                                                |
|    ALU (Arithmetic   logic unit)     |    Used to make   calculations                                                       |    ·         a (one value to be used in calculation)   ·         b (another value to be used in calculation)   ·         aluctr (the operation to perform)                                                                                                                                                                                                                                      |    ·         ALUout (calculated value)   ·         zero (fetch another instruction)    |
|    DM (Data memory)                  |    Where all values are   saved or to be saved                                       |    ·         Datain (value to be saved in memory)   ·         clk    ·         memwr (control signal, if value should be saved in memory)   ·         memToReg (controls if DM can save value to RegFile)   ·         addr (address of register)                                                                                                                                                |    Dataout (value in a   register)                                                     |
|    Extender                          |    Used to convert one   bit length to another bit length e.g. 16 bits to 32 bits    |    ·         Imm (immediate value)   ·         extop (control signal for sign or zero extension)                                                                                                                                                                                                                                                                                                |    Extout (the extended   value)                                                       |
|    Multiplexer                       |    To control signals                                                                |    Many different   multiplexers with different inputs                                                                                                                                                                                                                                                                                                                                          |                                                                                        |

The control signals are:

|    Control signal name    |    Usage                                                                                                         |    Component associated                  |    Signal = 0                                                                                                                               |    Signal = 1                                                                                        |
|---------------------------|------------------------------------------------------------------------------------------------------------------|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
|    ExtOp                  |    To choose which   extension is needed, when a value is shorter than 32 bits, but register needs   32 bits.    |    Extender                              |    Zero-extension (Used   for unsigned values, zeroes are filled in the empty bits)                                                         |    Sign-extension   (Used for signed   values, most significant bit is used to filled empty bits)    |
|    ALUsrc                 |    Controls whether the   second operand to busB is from regFile or a given immediate value.                     |    Multiplexer   connected to ALU        |    busB (Uses a value   from the register)                                                                                                  |    Imm16 (Uses an   immediate)                                                                       |
|    ALUctr                 |    Tells the ALU   whether it should ADD, SUB, OR, etc.                                                          |    ALU                                   |    It is not 0 or 1,   but it is a 3 bit value, since there are implemented 8 operations in this   CPU.   E.g. 000 is ADD, 001   is SUB.    |                                                                                                      |
|    nPC_sel                |    Determines if the PC   should go to next instruction or jump to another instruction                           |    IFU                                   |    PC points to next instruction                                                                                                            |    PC jumps to another   instruction                                                                 |
|    MemWr                  |    Always saves to   memory                                                                                      |    DM                                    |    Don’t save to memory                                                                                                                     |    Save to memory                                                                                    |
|    MemtoReg               |    Controls if value   saved to RegFile comes from ALU or DM                                                     |    Multiplexer   connected to RegFile    |    Value is from ALU                                                                                                                        |    Value is from DM                                                                                  |
|    RegDst                 |    Determines if the   second register given is rt or rd                                                         |    Multiplexer   connected to RegFile    |    Rt (The second   operand value, from for example ADD instruction)                                                                        |    Rd (the register   that a value is saved to, from a LW instruction)                               |
|    RegWr                  |    Determines if the register   can be written to or not                                                         |    RegFile                               |    Register cannot be   written to                                                                                                          |    Register can be   written to                                                                      |
